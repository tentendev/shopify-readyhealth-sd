<section class="cart-page u-container">
  <h1 class="u-text-style-h1">{{ 'cart.title' | t }}</h1>

  {%- if cart.item_count > 0 -%}
    <form action="{{ routes.cart_url }}" method="post">
      <div class="cart-items">
        {%- for item in cart.items -%}
          <div class="cart-item">
            {%- if item.image -%}
              <img
                src="{{ item.image | image_url: width: 150 }}"
                alt="{{ item.image.alt | escape }}"
                loading="lazy"
                class="cart-item-image"
              >
            {%- endif -%}

            <div class="cart-item-details">
              <a href="{{ item.url }}">{{ item.product.title }}</a>
              {%- if item.variant.title != 'Default Title' -%}
                <p>{{ item.variant.title }}</p>
              {%- endif -%}
              <p>{{ item.final_price | money }}</p>
            </div>

            <div class="cart-item-quantity">
              <input
                type="number"
                name="updates[]"
                value="{{ item.quantity }}"
                min="0"
                data-id="{{ item.key }}"
              >
            </div>

            <div class="cart-item-total">
              {{ item.final_line_price | money }}
            </div>
          </div>
        {%- endfor -%}
      </div>

      <div class="cart-footer">
        <div class="cart-subtotal">
          <span>{{ 'cart.subtotal' | t }}</span>
          <span>{{ cart.total_price | money }}</span>
        </div>

        <button type="submit" name="update" class="button_secondary">
          Update Cart
        </button>

        <button type="submit" name="checkout" class="button_primary">
          {{ 'cart.checkout' | t }}
        </button>
      </div>
    </form>
  {%- else -%}
    <p>{{ 'cart.empty' | t }}</p>
    <a href="{{ routes.all_products_collection_url }}" class="button_primary">
      {{ 'cart.continue_shopping' | t }}
    </a>
  {%- endif -%}
</section>

{% schema %}
{
  "name": "Cart Page",
  "settings": []
}
{% endschema %}
